<div class="search">

  <mat-form-field>
    <mat-label>Recherche : </mat-label>
  <input  type="text" name="firstName" [(ngModel)]="surName" (ngModelChange)="ngModelChange()"   placeholder="Nom de famille" matInput >
</mat-form-field>
</div>


<div class = "cards">
<div class="employees">
    <div class="AddPerson">
      <button mat-button type="button" (click)="OpenformAddUser()"><mat-icon  class="icons">person_add</mat-icon> Ajouter un employée</button>
    </div>

      <table>
          <thead>
            <tr>
              <th>Nom</th>
              <th>Service</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let employee of listEmployee" >
              <td *ngIf="employee.id > 1">{{employee.firstName | titlecase }} {{employee.surName | titlecase}}</td>
              <td *ngIf="employee.id > 1">{{employee.role.name}}</td>
              <td *ngIf="role == 'ADM' || employee.id > 1">
                <button mat-button   type="button" (click)="GetOne(employee.id)"><mat-icon class="icons1">visibility</mat-icon></button>
                <button  mat-button  type="button" (click)="OpenformUpdate(employee.id)"><mat-icon class="icons2">edit</mat-icon></button>
                <button *ngIf="employee.id > 1" type="button" mat-button (click)="DeleteUSer(employee.id)"><mat-icon class="icons3">delete</mat-icon></button>
              </td>
            </tr>
          </tbody>
      </table>
</div>

  <div class="rep" *ngIf="select == true && SelectedEmployee != null">

    <div class="card">
      <div class="header"> <h2>{{SelectedEmployee.surName}} {{SelectedEmployee.firstName}}</h2></div>
      <div class="contenu">
        <div id="photo"><img [attr.src]="safeImageUrl" alt="Photo"></div>
        <div class="details">
          <p>Rue: {{SelectedEmployee.address.sreetAddress}}</p>
          <p>Code Postal: {{SelectedEmployee.address.zipCode}}</p>
          <p>Ville: {{SelectedEmployee.address.city}}</p>
          <p>Pays: {{SelectedEmployee.address.state}}</p>
          <p>Date de naissance: {{SelectedEmployee.birthDate| date:"dd/MM/yy"}}</p>

        </div>
        <div class="details">
          <p class="position">{{SelectedEmployee.role.name}}</p>
          <p  *ngFor="let emails of SelectedEmployee.email; let i = index">
             {{emails.emailAddress}}</p>
          <p *ngFor="let phones of SelectedEmployee.phone; let i = index">Téléphone: {{phones.number}}
          </p>
          <p >Nr de Badge: {{SelectedEmployee.employeeCardNumber}}</p>
          <p >Nr° de carte ministériel: {{SelectedEmployee.securityCard}}</p>
        </div>
      </div>
      <div class="footer"></div>
    </div>
  </div>
</div>
