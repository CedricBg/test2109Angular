

<div class="search">
  <label>Entrez par prénom : </label>
  <input type="text" name="firstName" [(ngModel)]="firstName" (ngModelChange)="ngModelChange()"   placeholder="Enter FirstName" >
</div>
<div class="employees">
  <mat-card class="table-card">
      <table>
          <thead>
            <tr>
              <th>Prénom</th>
              <th>Nom</th>
              <th>Détails</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let employee of listEmployee">
              <td>{{employee.firstName}}</td>
              <td>{{employee.surName}}</td>
              <td><button mat-button (click)="GetOne(employee.id)"><mat-icon>launch</mat-icon></button></td>
            </tr>
          </tbody>
      </table>
    </mat-card>

    <div class="details" *ngIf="select == true && SelectedEmployee != null">
      <mat-card class="Detailed-card">
        <button mat-button (click)="GetOne(SelectedEmployee.id)"><mat-icon>cancel</mat-icon>Annuler les modifications</button>
        <form [formGroup]="formEmployee" >

          <div>
            <mat-form-field>
              <mat-label>Prénom : </mat-label><input formControlName="firstName" class="input" matInput>
            </mat-form-field>
            <mat-form-field>
              <mat-label>Nom : </mat-label><input formControlName="surName" class="input" matInput >
            </mat-form-field>
          </div>

        <div>
          <mat-form-field>
            <mat-label>Date de naissance : </mat-label><input formControlName="birthDate" class="input" matInput>
          </mat-form-field>
          <mat-form-field>
            <mat-label>Date entrée en service : </mat-label><input formControlName="entryService" class="input" matInput>
          </mat-form-field>
            <mat-checkbox  formControlName="vehicle">Véhicule</mat-checkbox>
        </div>

        <div>
          <mat-form-field>
            <mat-label>Rue : </mat-label><input formControlName="sreetAddress" class="input" matInput>
          </mat-form-field>
          <mat-form-field>
            <mat-label>Ville : </mat-label><input formControlName="city" class="input" matInput>
          </mat-form-field>
          <mat-form-field>
            <mat-label>Code Postal : </mat-label><input formControlName="zipCode" class="input" matInput>
          </mat-form-field>
          <mat-form-field>
            <mat-label>Pays : </mat-label><input formControlName="state" class="input" matInput>
          </mat-form-field>
        </div>

        <div formArrayName="emails">
          <div *ngFor="let emailss of emails.controls; let i = index" >
            <mat-form-field [formGroupName]="i">
              <mat-label >Email : </mat-label><input formControlName="emailAddress"   class="input" matInput>
            </mat-form-field>
            <button mat-icon-button (click)="DeleteEmails(i)">
              <mat-icon class="add-course-btn">delete</mat-icon>
            </button>
          </div>
          <button mat-icon-button (click)="AddEmail()">
            <mat-icon >add</mat-icon>
          </button>
        </div>

        <div formArrayName="phones">
          <div *ngFor="let phone of phones.controls ; let i = index" >
          <mat-form-field [formGroupName]="i">
            <mat-label>Phone : </mat-label><input   class="input" matInput>
            <button mat-mini-fab >
              <mat-icon >add</mat-icon>
            </button>

          </mat-form-field>
        </div>
      </div>
        <div ><button mat-raised-button color="primary" class="sendButton">Envoyer</button></div>

        </form>

    </mat-card>

    </div>
</div>
