

<div class="details" *ngIf="SelectedEmployee != null">
  <mat-card class="Detailed-card">
    <div>
      <button class="iconsCenter" mat-raised-button (click)="CloseDialogBox()" color="warning" class="sendButton">Fermer</button>
    </div>

    <form [formGroup]="formEmployee" (ngSubmit)="updateUser()" >
      <mat-dialog-content>
      <div>
        <mat-form-field >
          <mat-label>Prénom : </mat-label><input formControlName="firstName" class="input" matInput>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Nom : </mat-label><input formControlName="surName" class="input" matInput>
        </mat-form-field>
      </div>

    <div>
      <mat-form-field>
        <mat-label>Date de naissance: </mat-label><input type="date" formControlName="birthDate" class="input" matInput>
      </mat-form-field>

        <mat-checkbox  formControlName="vehicle">Véhicule</mat-checkbox>
    </div>

    <div formGroupName="address" >
      <mat-form-field>
        <mat-label>Rue: </mat-label><input formControlName="sreetAddress" class="input" matInput>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Ville: </mat-label><input formControlName="city" class="input" matInput>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Code Postal : </mat-label><input formControlName="zipCode" class="input" matInput>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Pays: </mat-label>
        <mat-select formControlName="state">
          <mat-option *ngFor="let elt of listCountrys" [value]="elt.country" >
                {{elt.country}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div formGroupName="language">
      <mat-form-field>
        <mat-label>Langue(s):</mat-label>
        <mat-select formControlName="name">
          <mat-option *ngFor="let language of listLanguages" [value]="language.name">
              {{language.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div formGroupName="role" >
      <mat-form-field>
      <mat-label>Role: </mat-label>
      <mat-select formControlName="name">
        <mat-option *ngFor="let elt of listRoles"  [value]="elt.name" >
              {{elt.name}}
        </mat-option>
      </mat-select>
    </mat-form-field>
    </div>

    <div formArrayName="email">
      <div *ngFor="let emailss of email.controls; let i = index" >
        <mat-form-field [formGroupName]="i">
          <mat-label >Email: </mat-label><input formControlName="emailAddress"  class="input" matInput>
        </mat-form-field>
        <span *ngIf="i >=1">
        <span mat-icon-button (click)="DeleteEmails(i)">
          <mat-icon class="icons">delete</mat-icon>
        </span>
      </span>
      </div>
      <span mat-icon-button (click)="AddEmail()">
        <mat-icon >add</mat-icon>
      </span>
    </div>

    <div formArrayName="phone">
      <div *ngFor="let phone of phone.controls; let i = index" >
      <mat-form-field [formGroupName]="i">
        <mat-label>Phone: </mat-label><input formControlName="number"  class="input" matInput>
      </mat-form-field>
      <span *ngIf="i >=1">
      <span mat-icon-button (click)="DeletePhones(i)">
        <mat-icon class="icons">delete</mat-icon>
      </span>
    </span>
    </div>
    <span mat-icon-button (click)="AddPhone()">
      <mat-icon >add</mat-icon>
    </span>
  </div>
  <div>
    <mat-form-field>
      <mat-label>Nr de Badge personnel: </mat-label><input formControlName="employeeCardNumber" class="input" matInput>
    </mat-form-field>
  </div>
  <div>
    <mat-form-field>
      <mat-label>Nr de carte ministériel: </mat-label><input formControlName="securityCard" class="input" matInput>
    </mat-form-field>
  </div>
</mat-dialog-content>
    <div>
      <button mat-raised-button color="primary" (click)="CloseDialogBox()" class="sendButton">Envoyer</button>
    </div>
    </form>

      <div>
        <input type="file" (change)="uploadFile($event)" >
      </div>

      <section>
        <button type="button" (click)="AddLogin(SelectedEmployee.id)" mat-raised-button color="primary">Ajouter les accès</button>
      </section>
</mat-card>

</div>


