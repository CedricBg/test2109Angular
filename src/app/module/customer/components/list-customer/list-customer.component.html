<div class="contentList">
  <div class="search">
    <mat-form-field>
      <mat-label>Recherche : </mat-label>
      <input  type="text" name="nameCustomer" [(ngModel)]="nameCustomer" (ngModelChange)="ngModelChange()"  placeholder="Nom du client" matInput >
    </mat-form-field>
  </div>
  <div class = "cards">
    <div class="employees">
      <div class="AddPerson">
        <button mat-button type="button" (click)="OpenformAddUser()" ><mat-icon  class="icons">person_add</mat-icon></button>
      </div>
      <hr>
      <table>
        <thead>
          <tr>
            <th>Nom</th>
            <th>Service</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let client of listCustomers">
            <td>{{client.nameCustomer| titlecase }}</td>
            <td></td>
            <td>
              <button mat-button   type="button"><mat-icon (click)="GetOne(client.id)" class="icons1">visibility</mat-icon></button>
              <button  mat-button  type="button"><mat-icon (click)="OpenformUpdate(client.id)" class="icons2">edit</mat-icon></button>
              <button *ngIf="client.id > 1" type="button" mat-button ><mat-icon class="icons3">delete</mat-icon></button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="rep" *ngIf="select == true && SelectedClient != null">
      <div class="card">
        <div class="details">

          <h1>{{SelectedClient.nameCustomer}}</h1>

          <p *ngIf="SelectedClient.generalPhone.length != 0">nr° de téléphone </p>
          <p *ngFor="let phones of SelectedClient.generalPhone; let i = index"  class="phone">
            <i class="fas fa-phone"></i>{{phones.number}}
          </p>
          <p *ngIf="SelectedClient.emergencyPhone.length != 0">nr° de téléphone d'urgence</p>
          <p  *ngFor="let phone of SelectedClient.emergencyPhone; let i = index" class="email">
            <i class="far fa-envelope"></i> {{phone.number}}
          </p>

        <div *ngFor="let elt of SelectedClient.address; let i = index" class="details">
          <p class="position">Adresse nr {{i+1}} :</p>
          <p class="email"><i class="far fa-envelope"></i>Rue : {{elt.sreetAddress}}</p>
          <p class="email"><i class="far fa-envelope"></i>Code Postal : {{elt.zipCode}}</p>
          <p class="email"><i class="far fa-envelope"></i>Pays : {{elt.state}}</p>
          <p class="email"><i class="far fa-envelope"></i>Ville : {{elt.city}}</p>
        </div>
        <div *ngFor="let elt of SelectedClient.contactPerson; let i = index" class="details">
          <p class="position">Personne de contact nr {{i+1}}:</p>
          <p class="email"><i class="far fa-envelope"></i>Ville : {{elt.firstName}}</p>
        </div>
        <div class="details">
          <p class="email" *ngIf="SelectedClient.language != null"><i class="far fa-envelope"></i>Langue de contact: {{SelectedClient.language.name}} </p>
        </div>


        <div class="details">
          <p *ngIf="SelectedClient.generalEmail.length != 0" class="email">Email: </p>
          <p class="email" *ngFor="let elt of SelectedClient.generalEmail; let i = index">
            <i class="fas fa-phone"></i>{{elt.emailAddress}}
          </p>
          <p *ngIf="SelectedClient.emergencyEmail.length != 0" class="email">Email d'urgence:</p>
          <p class="email" *ngFor="let elt of SelectedClient.emergencyEmail; let i = index">
            <i class="fas fa-phone"></i>{{elt.emailAddress}}
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
